# C语言数组

数组（Array）也是一种复合数据类型，它由一系列相同类型的元素（Element）组成。

## 定义
```c
int count[4];   //定义一个int型的数组

struct complex_struct {
    double x, y;
}a[4];    //定义了一个由4个complex_struct 类型元素组成的数组

struct {
    double x, y;
    int count[4];
} s;    //定义了一个包含整型数组的结构体

```
数组下标的表达式不仅可以表示存储单元的值，也可以表示存储单元本身，也就是可以做左值。

```c
count[0] = 7;   //给count[]数组第1个元素赋值为7。
count[1] = count[0] * 2;    //将数组第1个元素乘以2，然后再赋值给数组第2个元素。
++count[2];     //即：count[2] =

```
## 初始化

数组也可以像结构体一样进行初始化，未赋初始值的元素也是用0来初始化。

```c
int count[4] = { 3, 2, };
int count[] = { 3, 2, 1, };
int count[4] = { [2] = 3};

```

** *数组不能相互赋值或者是初始化* ** 因为对于数组有一条特殊的规则：数组类型做右值时，
自动转换成指向数组首元素的指针。这样从另一方面也解释了数组不能相互赋值或者初始化的原因。
例：
```c
int a[5] = { 4, 3, 2, 1 };
int b[5] = a;   //这种初始化的方式是错误的，因为a转换成了指向数组a首元素的指针而左边仍然是数组，这样当然不能通过赋值初始化。

```

> define不仅用于定义常量，也可以定义更复杂的语法结构，称为宏定义（Macro），其次define
定义是在预处理阶段处理的，而枚举是在编译阶段处理的。虽然inclued 和define 在预处理指示
中有特殊含义，但它们并不是C语言的关键字。

生成随机数组：
```c
#define N 20

void gen_random(int upper_bound)
{
    int i;
    for ( i = 0; i < N; i++) {
        a[i] = rand() % upper_bound;
    }
}

```

写代码时尽可能的避免硬编码，这其中也是一个提取公因式的过程，这其实和数据抽象具有相同的作用，
就是避免一个地方的改动涉及到大的范围。

*字符串* 也可以看作一个数组，它的每个元素是字符型的。
例如：     
char str[] = "hello";   //这个初始化相当于char str[] = {'h', 'e', 'l', 'l', 'o', '\0'};

每个字符串末尾都有一个字符'\0'结束符，这里的'\0'是ASCII码的八进制表示，也就是ASCII码为0的NULL字符，
在C语言中这种字符串也称为以零结尾的字符串(Null-terminated String)。

字符串的初始化最好的方式是：
char str[] = "hello, world.\n";   //字符串的长度我们不用自己算上，让编译器自己去算就可以了。
这样可以避免出现一些错误：比如说：   
char str[10] = "hello, world.\n";   //字符串数组长度小于实际的字符串的长度。这种情况下数组不包含NULL，也只包含部分字符串，编译器会发出警告。   
char str[14] = "hello, world.\n";   //字符串数组长度刚好少了一个'\0'的位置，这种情况下数组也不包含NULL，包含全部的字符，编译器不会发出警告。
但是这样的写法在我们使用时可能会造成访问数组越界的操作。
